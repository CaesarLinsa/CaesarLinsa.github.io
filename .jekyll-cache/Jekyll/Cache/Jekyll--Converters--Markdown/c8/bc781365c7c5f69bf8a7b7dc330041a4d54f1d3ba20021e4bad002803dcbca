I"¯<h2 id="æ‰“åŒ…">æ‰“åŒ…</h2>
<p>å®éªŒä»£ç æ˜¯æœ€ç®€å•çš„flaskå·¥ç¨‹ï¼Œâ€/â€, render_templateåˆ°hello.html.
hello.htmlä¸­æ¸²æŸ“â€hello worldâ€
ä½¿ç”¨<code class="highlighter-rouge">pyinstaller -F app.py --name app</code> å¯¹æœåŠ¡è¿›è¡Œæ‰“åŒ…ï¼Œåœ¨distä¸­å‘ç°app.exeæ–‡ä»¶
ä½†æ˜¯æ‰§è¡Œæ—¶ï¼Œå‡ºç°å¦‚ä¸‹é”™è¯¯</p>

<p><img src="\img\package_flask\\package_error.png" alt="package_call_error" /></p>

<p>æœç´¢é—®é¢˜çš„ç­”æ¡ˆ[stackoverflow] (https://stackoverflow.com/questions/32149892/flask-application-built-using-pyinstaller-not-rendering-index-html/48976223#48976223)</p>

<h2 id="ä¿®æ”¹">ä¿®æ”¹</h2>
<p>æ·»åŠ å¦‚ä¸‹ä»£ç åœ¨flaskå…¥å£æœ€ä¸Šé¢çš„importä¸‹ï¼Œsys._MEIPASSæ˜¯æ‰“åŒ…ç›®å½•</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s">'frozen'</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
  <span class="n">template_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">_MEIPASS</span><span class="p">,</span> <span class="s">'templates'</span><span class="p">)</span>
  <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">,</span> <span class="n">template_folder</span><span class="o">=</span><span class="n">template_folder</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
</code></pre></div></div>
<p>æ‰§è¡Œ<code class="highlighter-rouge"> pyinstaller  -F --add-data "templates;templates"  app.py</code> è¿›è¡Œæ‰“åŒ…ã€‚
æ‰“åŒ…å®Œæˆåï¼Œæ‰§è¡Œdistä¸‹app.exeï¼Œå‘é€è¯·æ±‚,æ‰§è¡ŒæˆåŠŸ</p>

<p><img src="\img\package_flask\\hello_world.png" alt="hello_world" /></p>
:ET